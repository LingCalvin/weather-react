(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(13),i=n.n(a),c=(n(110),n(15)),o=n(89),s=n(12),u=(n(111),n(10)),l=n.n(u),d=n(25),p=n(14),f=n(19),j=n(180),h=n(181),v=n(53),b=n(178),m=n(194),O=n(186),x=n(188),g=n(189),y=n(182),w=n(183),S=n(184),C=n(185),T=n(190),k=n(191),P=n(66),E=n(187);var I,H,F,D,N,M={getCurrentPosition:function(){return new Promise((function(e,t){return navigator.geolocation.getCurrentPosition(e,t)}))}},L=n(34),R=n(42),U=n(54),A=n.n(U);!function(e){e.Inch="INCH",e.Meter="METER",e.Mile="MILE",e.Kilometer="KILOMETER"}(I||(I={})),function(e){e[e.Daily=0]="Daily",e[e.Hourly=1]="Hourly"}(H||(H={})),function(e){e.Pascal="PASCAL",e.NewtonPerSquareMeter="NEWTON_PER_SQUARE_METER",e.PoundsPerSquareInch="POUNDS_PER_SQUARE_INCH",e.Bar="BAR"}(F||(F={})),function(e){e.KilometersPerHour="KILOMETERS_PER_HOUR",e.MetersPerSecond="METERS_PER_SECOND",e.MilesPerHour="MILES_PER_HOUR"}(D||(D={})),function(e){e.Celsius="CELSIUS",e.Fahrenheit="FAHRENHEIT",e.Kelvin="KELVIN"}(N||(N={}));var K=n(55),B=n(82),W=n(91),_=n(92),G=function(e){Object(B.a)(n,e);var t=Object(W.a)(n);function n(e){var r;return Object(L.a)(this,n),(r=t.call(this,"Unexpected unit code: ".concat(e))).unitCode=e,Error.captureStackTrace&&Error.captureStackTrace(Object(K.a)(r),n),r.name="UnexpectedUnitCodeException",r}return n}(Object(_.a)(Error)),J=new(function(){function e(t){Object(L.a)(this,e),this.apiClient=t}return Object(R.a)(e,[{key:"getPointInfoRaw",value:function(){var e=Object(f.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.get("/points/".concat(t,",").concat(n));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPointInfo",value:function(){var e=Object(f.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPointInfoRaw(t,n);case 2:return r=e.sent,e.abrupt("return",{coordinates:[r.geometry.coordinates[0],r.geometry.coordinates[1]],gridId:r.properties.gridId,gridX:r.properties.gridX,gridY:r.properties.gridY,timeZone:r.properties.timeZone,radarStation:r.properties.timeZone,relativeLocation:{city:r.properties.relativeLocation.properties.city,state:r.properties.relativeLocation.properties.state}});case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getRawForecast",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.wfo,r=t.x,a=t.y,e.next=3,this.apiClient.get("/gridpoints/".concat(n,"/").concat(r,",").concat(a,"/forecast"));case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getForecast",value:function(){var e=Object(f.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Y,e.next=3,this.getRawForecast(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRawHourlyForecast",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.wfo,r=t.x,a=t.y,e.next=3,this.apiClient.get("/gridpoints/".concat(n,"/").concat(r,",").concat(a,"/forecast/hourly"));case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHourlyForecast",value:function(){var e=Object(f.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Y,e.next=3,this.getRawHourlyForecast(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRawStations",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.wfo,r=t.x,a=t.y,e.next=3,this.apiClient.get("/gridpoints/".concat(n,"/").concat(r,",").concat(a,"/stations"));case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStations",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRawStations(t);case 2:return n=e.sent,r=n.features,e.abrupt("return",r.map((function(e){var t=e.properties;return{id:t.stationIdentifier,name:t.name,timeZone:t.timeZone}})));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRawStationObservations",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.stationId,r=Object(d.a)(t,["stationId"]),e.next=3,this.apiClient.get("/stations/".concat(n,"/observations"),{params:r});case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStationObservations",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRawStationObservations(t);case 2:return n=e.sent,r=n.features,e.abrupt("return",r.map((function(e){var t,n=e.properties;return{station:n.station,timestamp:new Date(n.timestamp),description:n.textDescription,icon:n.icon,temperature:Q(n.temperature),windDirection:null!==(t=n.windDirection.value)&&void 0!==t?t:void 0,windSpeed:q(n.windSpeed),windGust:q(n.windGust),barometricPressure:V(n.barometricPressure),seaLevelPressure:V(n.seaLevelPressure),visibility:z(n.visibility),maxTemperatureLast24Hours:Q(n.maxTemperatureLast24Hours),minTemperatureLast24Hours:Q(n.minTemperatureLast24Hours),precipitationLastHour:z(n.precipitationLastHour),precipitationLast3Hours:z(n.precipitationLast3Hours),precipitationLast6Hours:z(n.precipitationLast6Hours),relativeHumidity:X(n.relativeHumidity),windChill:Q(n.windChill),heatIndex:Q(n.heatIndex)}})));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())(A.a.create({baseURL:"https://api.weather.gov",headers:{Accept:"application/geo+json"}}));function Z(e){return{name:e.name,startTime:new Date(e.startTime),endTime:new Date(e.endTime),isDayTime:e.isDaytime,temperature:Q({value:e.temperature,unitCode:e.temperatureUnit}),icon:e.icon,shortForecast:e.shortForecast,detailedForecast:e.detailedForecast}}function Y(e){var t=e.properties;return{updatedTime:new Date(t.updateTime),type:H.Daily,periods:t.periods.map(Z)}}function z(e){var t=e.value,n=e.unitCode;if(null!==t){if("unit:in"===n)return{value:t,unit:I.Inch};if("unit:m"===n)return{value:t,unit:I.Meter};if("unit:km"===n)return{value:t,unit:I.Kilometer};throw new G(n)}}function X(e){var t=e.value,n=e.unitCode;if(null!==t){if("unit:percent"===n)return t;throw new G(n)}}function q(e){var t=e.value,n=e.unitCode;if(null!==t){if("unit:km_h-1"===n)return{value:t,unit:D.KilometersPerHour};throw new G(n)}}function Q(e){var t=e.value,n=e.unitCode;if(null!==t){if("C"===n||"unit:degC"===n)return{value:t,unit:N.Celsius};if("F"===n)return{value:t,unit:N.Fahrenheit};if("K"===n)return{value:t,unit:N.Kelvin};throw new G(n)}}function V(e){var t=e.value,n=e.unitCode;if(null!==t){if("unit:Pa"===n)return{value:t,unit:F.Pascal};throw new G(n)}}var $={setItem:function(e,t){localStorage.setItem(e,JSON.stringify(t))},getItem:function(e,t){var n=localStorage.getItem(e);return null===n?null:JSON.parse(n,t)}};function ee(e,t){switch(t.type){case"updateForecast":return Object(p.a)(Object(p.a)({},e),t.payload)}}var te=n(90),ne=n(172),re=n(2);function ae(e){var t=e.open,n=void 0!==t&&t,r=e.anchorEl,a=e.anchorOrigin,i=e.onClose,c=e.onRefreshClicked,o=e.onSettingsClicked;return Object(re.jsxs)(te.a,{open:n,anchorEl:r,anchorOrigin:a,onClose:i,children:[Object(re.jsx)(ne.a,{onClick:c,children:"Refresh"}),Object(re.jsx)(ne.a,{onClick:o,children:"Settings"})]})}var ie=n(173),ce=Object(ie.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column"},spacer:{flexGrow:1},main:{overflowY:"auto",flexGrow:1},hourlyForecastPage:{display:"flex",flexDirection:"column",gap:e.spacing(1)},bottomNavigation:{borderTop:"1px solid",borderColor:e.palette.divider,minHeight:"56px"},searchContainer:{backgroundColor:e.palette.background.paper,width:"100%",padding:"".concat(e.spacing(.5),"px ").concat(e.spacing(1),"px"),display:"flex",alignItems:"center",gap:e.spacing(1),borderRadius:e.shape.borderRadius,flexGrow:1},searchOrLocateContainer:{width:"100%",display:"flex",alignItems:"center",gap:e.spacing(1)},searchExitButton:{padding:0}}})),oe=n(174);function se(e){var t=e.skeletonProps,n=e.className,a=Object(d.a)(e,["skeletonProps","className"]),i=Object(r.useState)(!1),o=Object(c.a)(i,2),s=o[0],u=o[1];return Object(re.jsxs)(re.Fragment,{children:[!s&&Object(re.jsx)(oe.a,Object(p.a)({className:n,variant:"rect"},t)),Object(re.jsx)("img",Object(p.a)({className:n,style:{display:s?void 0:"none"},onLoad:function(){return u(!0)}},a))]})}var ue,le=Object(ie.a)((function(e){return{root:{display:"grid",alignItems:"center",gridTemplateColumns:"repeat(4, auto)",gap:e.spacing(1)},temperature:{fontWeight:"bold"}}}));function de(e){var t=e.value;switch(e.unit){case N.Celsius:return"".concat(t,"\u2103");case N.Fahrenheit:return"".concat(t,"\u2109");case N.Kelvin:return"".concat(t,"\u212a");default:return"".concat(t)}}function pe(e,t){var n=function(e){var t=e.value,n=e.unit;switch(n){case N.Celsius:return{value:t+273.15,unit:N.Kelvin};case N.Fahrenheit:return{value:5*(t-32)/9+273.15,unit:N.Kelvin};case N.Kelvin:return{value:t,unit:n}}}(e).value;switch(t){case N.Celsius:return{value:n-273.15,unit:t};case N.Fahrenheit:return{value:9*(n-273.15)/5+32,unit:t};case N.Kelvin:return{value:n,unit:t}}}function fe(e){var t=e.forecast,n=le();return Object(re.jsx)("div",{className:n.root,children:t.map((function(e){var t=e.startTime,a=e.icon,i=e.shortForecast,c=e.temperature;return Object(re.jsxs)(r.Fragment,{children:[Object(re.jsx)(v.a,{className:n.temperature,children:t.toLocaleTimeString(void 0,{hour:"numeric"})}),Object(re.jsx)(se,{src:a,alt:"",height:ue.Small,width:ue.Small,skeletonProps:{height:ue.Small,width:ue.Small}}),Object(re.jsx)(v.a,{children:i}),Object(re.jsx)(v.a,{children:de(c)})]},t.toISOString())}))})}!function(e){e[e.Small=56]="Small",e[e.Medium=86]="Medium",e[e.large=134]="large"}(ue||(ue={}));var je=n(175),he=n(176);function ve(e){var t=e.value;switch(e.unit){case D.KilometersPerHour:return"".concat(t," km/h");case D.MetersPerSecond:return"".concat(t," m/s");case D.MilesPerHour:return"".concat(t," mph");default:return"".concat(t)}}function be(e,t){var n=function(e){var t=e.value,n=e.unit;switch(n){case D.KilometersPerHour:return{value:t/3.6,unit:D.MetersPerSecond};case D.MetersPerSecond:return{value:t,unit:n};case D.MilesPerHour:return{value:t/2.237,unit:D.MetersPerSecond}}}(e).value;switch(t){case D.KilometersPerHour:return{value:3.6*n,unit:t};case D.MetersPerSecond:return{value:n,unit:t};case D.MilesPerHour:return{value:2.237*n,unit:t}}}var me=Object(ie.a)({icon:{alignSelf:"flex-start"}});function Oe(e){var t=e.icon,n=e.shortForecast,r=e.temperature,a=e.windSpeed,i=e.relativeHumidity,c=e.updateTime,o=e.station,s=me();return Object(re.jsx)(je.a,{children:Object(re.jsxs)(he.a,{children:[Object(re.jsx)(v.a,{variant:"h5",children:n}),Object(re.jsxs)(m.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(re.jsx)(se,{className:s.icon,alt:"",src:t,height:ue.Medium,width:ue.Medium,skeletonProps:{height:ue.Medium,width:ue.Medium}}),Object(re.jsxs)(m.a,{display:"flex",flexDirection:"column",alignItems:"flex-end",children:[Object(re.jsx)(v.a,{variant:"h3",children:de(r)}),void 0!==i&&Object(re.jsx)(v.a,{children:"Humidity: ".concat(Math.round(i),"%")}),void 0!==a&&Object(re.jsx)(v.a,{children:"Wind: ".concat(ve(a))}),c&&Object(re.jsx)(m.a,{display:"flex",justifyContent:"flex-end",children:Object(re.jsx)(v.a,{variant:"caption",children:c.toLocaleString()})}),c&&Object(re.jsx)(m.a,{display:"flex",justifyContent:"flex-end",children:Object(re.jsx)(v.a,{variant:"caption",children:o})})]})]})]})})}function xe(e){var t=e.currentWeather,n=e.hourlyForecast,r=e.updateTime,a=e.station,i=e.className;return Object(re.jsxs)("div",{className:i,children:[Object(re.jsx)(Oe,{icon:t.icon,shortForecast:t.shortForecast,temperature:t.temperature,windSpeed:t.windSpeed,relativeHumidity:t.relativeHumidity,updateTime:r,station:a}),Object(re.jsx)(fe,{forecast:n})]})}var ge=n(52),ye={speedUnit:D.MilesPerHour,temperatureUnit:N.Fahrenheit},we=Object(r.createContext)(ye),Se=Object(ie.a)((function(e){return{root:{display:"flex",flexDirection:"column",gap:e.spacing(2)},forecastTile:{display:"grid",gridTemplateAreas:'\n    "forecastTileTitle forecastTileTitle forecastTileTitle"\n    "forecastTileIcon forecastTileDescription forecastTileTemperature"\n    ',alignItems:"center",columnGap:e.spacing(1)},forecastTileTitle:{gridArea:"forecastTileTitle",justifySelf:"start"},forecastTileIcon:{gridArea:"forecastTileIcon"},forecastTileDescription:{gridArea:"forecastTileDescription"},forecastTileTemperature:{gridArea:"forecastTileTemperature",justifySelf:"end"}}}));function Ce(e){var t=e.forecast,n=Se();return Object(re.jsx)("div",{className:n.root,children:t.map((function(e){return Object(re.jsxs)("div",{className:n.forecastTile,children:[Object(re.jsx)(v.a,{className:n.forecastTileTitle,variant:"h6",children:e.name}),Object(re.jsx)(se,{className:n.forecastTileIcon,src:e.icon,alt:"",height:ue.Medium,width:ue.Medium,skeletonProps:{height:ue.Medium,width:ue.Medium}}),Object(re.jsx)(v.a,{className:n.forecastTileDescription,children:e.shortForecast}),Object(re.jsx)(v.a,{variant:"h6",className:n.forecastTileTemperature,children:de(e.temperature)})]},e.startTime.toISOString())}))})}var Te=n(193),ke=n(179),Pe=n(195);var Ee=new(function(){function e(t){Object(L.a)(this,e),this.apiClient=t}return Object(R.a)(e,[{key:"suggest",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.get("/suggest",{params:t});case 2:return n=e.sent,r=n.data.suggestions,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findAddressCandidates",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.get("/findAddressCandidates",{params:t});case 2:return n=e.sent,r=n.data.candidates,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())(A.a.create({baseURL:"https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer",paramsSerializer:function(e){return new URLSearchParams(e).toString()}}));function Ie(e){var t=e.onSelectionChange,n=e.fullWidth,a=e.className,i=e.suggestParams,o=e.startAdornment,s=Object(r.useState)(null),u=Object(c.a)(s,2),l=u[0],d=u[1],f=Object(r.useState)(""),j=Object(c.a)(f,2),h=j[0],v=j[1],b=Object(r.useState)([]),m=Object(c.a)(b,2),O=m[0],x=m[1],g=function(e,t){var n=Object(r.useState)(e),a=Object(c.a)(n,2),i=a[0],o=a[1],s=Object(r.useRef)(Date.now());return Object(r.useEffect)((function(){var n=setTimeout((function(){o(e),s.current=Date.now()}),t-(Date.now()-s.current));return function(){return clearTimeout(n)}}),[e,t]),i}(h,100),y=Object(r.useRef)("");return Object(r.useEffect)((function(){g.length>0&&"input"===y.current?Ee.suggest(Object(p.a)({text:g,f:"json"},i)).then((function(e){return x(e)})):x([])}),[g,i]),Object(re.jsx)(Pe.a,{className:a,fullWidth:n,options:O,getOptionLabel:function(e){return e.text},getOptionSelected:function(e,t){return e.isCollection===t.isCollection&&e.magicKey===t.magicKey&&e.text===t.text},inputValue:h,onInputChange:function(e,t,n){y.current=n,v(t)},value:l,onChange:function(e,n){d(n),Ee.findAddressCandidates({f:"json",SingeLine:null===n||void 0===n?void 0:n.text,magicKey:null===n||void 0===n?void 0:n.magicKey}).then((function(e){return t(e[0])}))},renderInput:function(e){return Object(re.jsx)(Te.a,Object(p.a)(Object(p.a)({},e),{},{InputProps:Object(p.a)(Object(p.a)({},e.InputProps),{},{startAdornment:o?Object(re.jsx)(ke.a,{position:"start",children:o}):void 0})}))}})}function He(){var e;return null!==(e=$.getItem("cachedForecast",(function(e,t){var n=e.toLocaleUpperCase();return n.includes("TIME")||n.includes("DATE")?new Date(t):t})))&&void 0!==e?e:{location:null,city:null,state:null,forecast:null,hourlyForecast:null,stationId:null,observations:null}}function Fe(){return(Fe=Object(f.a)(l.a.mark((function e(t){var n,r,a,i,c,o,s,u,d,p,f,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getPointInfo(t.latitude,t.longitude);case 2:return n=e.sent,r=n.relativeLocation,a=r.city,i=r.state,c=n.gridId,o=n.gridX,s=n.gridY,e.next=11,J.getForecast({wfo:c,x:o,y:s});case 11:return u=e.sent,e.next=14,J.getHourlyForecast({wfo:c,x:o,y:s});case 14:return d=e.sent,e.next=17,J.getStations({wfo:c,x:o,y:s});case 17:return p=e.sent,f=p[0].id,e.next=21,J.getStationObservations({stationId:f,limit:1});case 21:return j=e.sent,e.abrupt("return",{location:t,city:a,state:i,forecast:u,hourlyForecast:d,stationId:f,observations:j});case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){var e,t,n,a,i,o,u=ce(),l=Object(s.f)(),f=Object(r.useContext)(we),I=f.speedUnit,H=f.temperatureUnit,F=function(){var e=Object(r.useState)(window.navigator.onLine),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a(!1)}function t(){a(!0)}return window.addEventListener("offline",e),window.addEventListener("online",t),function(){window.removeEventListener("offline",e),window.removeEventListener("online",t)}}),[]),n}(),L=Object(r.useState)(!1),R=Object(c.a)(L,2),U=R[0],A=R[1],K=Object(r.useReducer)(ee,void 0,He),B=Object(c.a)(K,2),W=B[0],_=B[1],G=W.location,J=W.city,Z=W.state,Y=W.forecast,z=W.hourlyForecast,X=W.observations,q=W.stationId,Q=null!==(e=null===X||void 0===X?void 0:X[0])&&void 0!==e?e:null,V=Object(r.useCallback)((function(e){A(!0),function(e){return Fe.apply(this,arguments)}(e).then((function(e){return _({type:"updateForecast",payload:e})})).finally((function(){return A(!1)}))}),[]);Object(r.useEffect)((function(){G&&F&&V(G)}),[F,G,V]),i="cachedForecast",o=W,Object(r.useEffect)((function(){$.setItem(i,o)}),[i,o]);var te=Object(r.useCallback)((function(e){return function(e){var t=e.value,n=Object(d.a)(e,["value"]);return Object(p.a)({value:Math.round(t)},n)}(pe(e,H))}),[H]),ne=Object(r.useCallback)((function(e){return Object(p.a)(Object(p.a)({},e),{},{periods:e.periods.map((function(e){var t=e.temperature,n=Object(d.a)(e,["temperature"]);return Object(p.a)({temperature:te(t)},n)}))})}),[te]),ie=Object(r.useMemo)((function(){return null!==Y?ne(Y):null}),[Y,ne]),oe=Object(r.useMemo)((function(){return null!==z?ne(z):null}),[z,ne]),se=new Date,ue=new Date(se);ue.setDate(ue.getDate()+1),ue.setHours(0,0,0,0);var le,de=null===oe||void 0===oe?void 0:oe.periods.filter((function(e){var t=e.endTime,n=e.startTime;return new Date(t)>se&&new Date(n)<ue})).map((function(e){var t=e.temperature,n=Object(d.a)(e,["temperature"]);return Object(p.a)({temperature:te(t)},n)})),fe=function(e,t){_({type:"updateForecast",payload:{location:{latitude:e,longitude:t}}})},je=Object(r.useState)(null),he=Object(c.a)(je,2),ve=he[0],me=he[1],Oe=Object(r.useState)("hourly"),ye=Object(c.a)(Oe,2),Se=ye[0],Te=ye[1],ke=Object(r.useState)(!1),Pe=Object(c.a)(ke,2),Ee=Pe[0],De=Pe[1];return Object(re.jsx)("div",{className:u.root,children:Object(re.jsxs)(P.a,{value:Se,children:[Object(re.jsx)(j.a,{position:"sticky",children:Object(re.jsx)(h.a,{children:Ee?Object(re.jsxs)("div",{className:u.searchOrLocateContainer,children:[Object(re.jsx)("div",{className:u.searchContainer,children:Object(re.jsx)(Ie,{fullWidth:!0,startAdornment:Object(re.jsx)(b.a,{className:u.searchExitButton,onClick:function(){return De(!1)},children:Object(re.jsx)(S.a,{})}),suggestParams:{category:["Postal","Populated Place"],countryCode:"USA"},onSelectionChange:function(e){var t=e.location,n=t.x,r=t.y;De(!1),fe(r,n)}})}),Object(re.jsx)(b.a,{color:"inherit",className:u.searchExitButton,onClick:function(){De(!1),M.getCurrentPosition().then((function(e){var t=e.coords;fe(t.latitude,t.longitude)}))},children:Object(re.jsx)(C.a,{})})]}):Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(v.a,{variant:"h6",children:J||Z?"".concat(null!==J&&void 0!==J?J:"Unknown",", ").concat(null!==Z&&void 0!==Z?Z:"Unknown"):"Unknown"}),Object(re.jsx)(b.a,{color:"inherit",onClick:function(){return De(!0)},children:Object(re.jsx)(y.a,{})}),Object(re.jsx)(m.a,{className:u.spacer}),Object(re.jsx)(b.a,{color:"inherit",edge:"end",onClick:function(e){return me(e.currentTarget)},children:Object(re.jsx)(w.a,{})})]})})}),Object(re.jsx)(ae,{anchorEl:ve,open:Boolean(ve),onClose:function(){return me(null)},onRefreshClicked:function(){me(null),G&&F&&V(G)},onSettingsClicked:function(){me(null),l.push(ge.SETTINGS)}}),U&&Object(re.jsx)(O.a,{color:"secondary"}),Object(re.jsxs)("main",{className:u.main,children:[Object(re.jsx)(E.a,{value:"hourly",children:Q&&(null===de||void 0===de?void 0:de.length)&&Object(re.jsx)(xe,{className:u.hourlyForecastPage,updateTime:new Date(Q.timestamp),station:null!==q&&void 0!==q?q:"",currentWeather:{icon:Q.icon,shortForecast:Q.description,temperature:te({value:null!==(t=null===(n=Q.temperature)||void 0===n?void 0:n.value)&&void 0!==t?t:0,unit:N.Celsius}),windSpeed:void 0!==(null===Q||void 0===Q?void 0:Q.windSpeed)?(le={value:Q.windSpeed.value,unit:D.KilometersPerHour},function(e){var t=e.value,n=Object(d.a)(e,["value"]);return Object(p.a)({value:Math.round(t)},n)}(be(le,I))):void 0,relativeHumidity:Q.relativeHumidity},hourlyForecast:de})}),Object(re.jsx)(E.a,{value:"daily",children:Object(re.jsx)(Ce,{forecast:null!==(a=null===ie||void 0===ie?void 0:ie.periods)&&void 0!==a?a:[]})})]}),Object(re.jsxs)(x.a,{value:Se,onChange:function(e,t){return Te(t)},showLabels:!0,className:u.bottomNavigation,children:[Object(re.jsx)(g.a,{icon:Object(re.jsx)(T.a,{}),label:"Hourly",value:"hourly"}),Object(re.jsx)(g.a,{icon:Object(re.jsx)(k.a,{}),label:"Daily",value:"daily"})]})]})})}var Ne=n(171),Me=n(177),Le=n(138),Re=n(192);function Ue(e){var t=e.open,n=void 0!==t&&t,r=e.anchorEl,a=e.anchorOrigin,i=e.children,c=e.onClose;return Object(re.jsx)(te.a,{open:n,anchorEl:r,anchorOrigin:a,onClose:c,children:i})}var Ae=Object(r.createContext)((function(){}));function Ke(e){switch(e){case D.KilometersPerHour:return"Kilometers per hour";case D.MetersPerSecond:return"Meters per second";case D.MilesPerHour:return"Miles per hour"}}function Be(e){switch(e){case N.Celsius:return"Celsius";case N.Fahrenheit:return"Fahrenheit";case N.Kelvin:return"Kelvin"}}var We=Object(ie.a)((function(e){return{listSubHeader:{color:e.palette.primary.main,fontSize:e.typography.body1.fontSize,fontWeight:e.typography.body1.fontWeight,textAlign:"start"}}})),_e=Object.keys(D).map((function(e){return D[e]})),Ge=Object.keys(N).map((function(e){return N[e]}));function Je(){var e=We(),t=Object(s.f)(),n=Object(r.useContext)(Ae),a=Object(r.useState)(null),i=Object(c.a)(a,2),o=i[0],u=i[1],l=Object(r.useState)(null),d=Object(c.a)(l,2),p=d[0],f=d[1],m=Object(r.useContext)(we),O=m.speedUnit,x=m.temperatureUnit;return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(j.a,{position:"sticky",children:Object(re.jsxs)(h.a,{children:[Object(re.jsx)(b.a,{edge:"start",color:"inherit",onClick:function(){return t.goBack()},children:Object(re.jsx)(S.a,{})}),Object(re.jsx)(v.a,{variant:"h6",children:"Settings"})]})}),Object(re.jsx)(Ue,{anchorEl:o,open:Boolean(o),onClose:function(){return u(null)},children:_e.map((function(e){return Object(re.jsx)(ne.a,{onClick:function(){n({speedUnit:e}),u(null)},children:Ke(e)},e)}))}),Object(re.jsx)(Ue,{anchorEl:p,open:Boolean(p),onClose:function(){return f(null)},children:Ge.map((function(e){return Object(re.jsx)(ne.a,{onClick:function(){n({temperatureUnit:e}),f(null)},children:Be(e)},e)}))}),Object(re.jsxs)(Ne.a,{children:[Object(re.jsx)(Me.a,{inset:!0,className:e.listSubHeader,children:"Units"}),Object(re.jsx)(Le.a,{button:!0,onClick:function(e){var t,n;return u(null!==(t=null===(n=e.currentTarget.firstElementChild)||void 0===n?void 0:n.firstElementChild)&&void 0!==t?t:null)},children:Object(re.jsx)(Re.a,{inset:!0,primary:"Speed unit",secondary:Ke(O)})}),Object(re.jsx)(Le.a,{button:!0,onClick:function(e){var t,n;return f(null!==(t=null===(n=e.currentTarget.firstElementChild)||void 0===n?void 0:n.firstElementChild)&&void 0!==t?t:null)},children:Object(re.jsx)(Re.a,{inset:!0,primary:"Temperature unit",secondary:Be(x)})})]})]})}function Ze(e,t){var n=t.type,r=t.update;switch(n){case"update":return Object(p.a)(Object(p.a)({},e),r)}}function Ye(e){return"userPreferences::".concat(e)}var ze=new(function(){function e(){Object(L.a)(this,e)}return Object(R.a)(e,[{key:"save",value:function(e,t){$.setItem(Ye(e),t)}},{key:"load",value:function(e){var t;return null!==(t=$.getItem(Ye(e)))&&void 0!==t?t:null}},{key:"loadOrDefault",value:function(e,t){var n;return null!==(n=$.getItem(Ye(e)))&&void 0!==n?n:t}},{key:"loadAllOrDefault",value:function(){return{speedUnit:this.loadOrDefault("speedUnit",ye.speedUnit),temperatureUnit:this.loadOrDefault("temperatureUnit",ye.temperatureUnit)}}}]),e}());function Xe(){var e=Object(r.useReducer)(Ze,ze.loadAllOrDefault()),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(re.jsx)(we.Provider,{value:n,children:Object(re.jsx)(Ae.Provider,{value:function(e){Object.keys(e).forEach((function(t){ze.save(t,e[t])})),a({type:"update",update:e})},children:Object(re.jsx)("div",{className:"App",children:Object(re.jsx)(o.a,{children:Object(re.jsxs)(s.c,{children:[Object(re.jsx)(s.a,{path:ge.DASHBOARD,exact:!0,children:Object(re.jsx)(De,{})}),Object(re.jsx)(s.a,{path:ge.SETTINGS,children:Object(re.jsx)(Je,{})})]})})})})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,197)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};i.a.render(Object(re.jsx)(r.StrictMode,{children:Object(re.jsx)(Xe,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),qe()},52:function(e){e.exports=JSON.parse('{"DASHBOARD":"/","SETTINGS":"/settings"}')}},[[136,1,2]]]);
//# sourceMappingURL=main.5f434b09.chunk.js.map