(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(8),i=n.n(a),c=(n(86),n(16)),o=n(70),s=n(7),u=(n(87),n(9)),l=n.n(u),d=n(27),p=n(14),f=n(20),j=n(145),v=n(146),h=n(50),b=n(147),m=n(160),O=n(150),x=n(152),g=n(153),y=n(148),w=n(149),S=n(154),C=n(155),T=n(54),k=n(151);var F,I,D,P={getCurrentPosition:function(){return new Promise((function(e,t){return navigator.geolocation.getCurrentPosition(e,t)}))}},E=n(44),H=n(45),N=n(65),R=n.n(N);!function(e){e[e.Daily=0]="Daily",e[e.Hourly=1]="Hourly"}(F||(F={})),function(e){e.KilometersPerHour="KILOMETERS_PER_HOUR",e.MetersPerSecond="METERS_PER_SECOND",e.MilesPerHour="MILES_PER_HOUR"}(I||(I={})),function(e){e.Celsius="CELSIUS",e.Fahrenheit="FAHRENHEIT",e.Kelvin="KELVIN"}(D||(D={}));var L=new(function(){function e(t){Object(E.a)(this,e),this.apiClient=t}return Object(H.a)(e,[{key:"getPointInfoRaw",value:function(){var e=Object(f.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.get("/points/".concat(t,",").concat(n));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPointInfo",value:function(){var e=Object(f.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPointInfoRaw(t,n);case 2:return r=e.sent,e.abrupt("return",{coordinates:[r.geometry.coordinates[0],r.geometry.coordinates[1]],gridId:r.properties.gridId,gridX:r.properties.gridX,gridY:r.properties.gridY,timeZone:r.properties.timeZone,radarStation:r.properties.timeZone,relativeLocation:{city:r.properties.relativeLocation.properties.city,state:r.properties.relativeLocation.properties.state}});case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getRawForecast",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.wfo,r=t.x,a=t.y,e.next=3,this.apiClient.get("/gridpoints/".concat(n,"/").concat(r,",").concat(a,"/forecast"));case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getForecast",value:function(){var e=Object(f.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=K,e.next=3,this.getRawForecast(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRawHourlyForecast",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.wfo,r=t.x,a=t.y,e.next=3,this.apiClient.get("/gridpoints/".concat(n,"/").concat(r,",").concat(a,"/forecast/hourly"));case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHourlyForecast",value:function(){var e=Object(f.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=K,e.next=3,this.getRawHourlyForecast(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRawStations",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.wfo,r=t.x,a=t.y,e.next=3,this.apiClient.get("/gridpoints/".concat(n,"/").concat(r,",").concat(a,"/stations"));case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStations",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRawStations(t);case 2:return n=e.sent,r=n.features,e.abrupt("return",r.map((function(e){var t=e.properties;return{id:t.stationIdentifier,name:t.name,timeZone:t.timeZone}})));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRawStationObservations",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.stationId,r=Object(d.a)(t,["stationId"]),e.next=3,this.apiClient.get("/stations/".concat(n,"/observations"),{params:r});case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStationObservations",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRawStationObservations(t);case 2:return n=e.sent,r=n.features,e.abrupt("return",r.map((function(e){var t,n=e.properties;return{station:n.station,timestamp:new Date(n.timestamp),description:n.textDescription,icon:n.icon,temperature:null!==n.temperature.value?U(n.temperature.value,n.temperature.unitCode):void 0,windDirection:null!==(t=n.windDirection.value)&&void 0!==t?t:void 0,windSpeed:null!==n.windSpeed.value?A(n.windSpeed.value,n.windSpeed.unitCode):void 0,windGust:null!==n.windGust.value?A(n.windGust.value,n.windGust.unitCode):void 0}})));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())(R.a.create({baseURL:"https://api.weather.gov",headers:{Accept:"application/geo+json"}}));function U(e,t){if("C"===t||"unit:degC"===t)return{value:e,unit:D.Celsius};if("F"===t)return{value:e,unit:D.Fahrenheit};if("K"===t)return{value:e,unit:D.Kelvin};throw new Error("Unexpected unit code.")}function M(e){return{name:e.name,startTime:new Date(e.startTime),endTime:new Date(e.endTime),isDayTime:e.isDaytime,temperature:U(e.temperature,e.temperatureUnit),icon:e.icon,shortForecast:e.shortForecast,detailedForecast:e.detailedForecast}}function K(e){var t=e.properties;return{updatedTime:new Date(t.updateTime),type:F.Daily,periods:t.periods.map(M)}}function A(e,t){if("unit:km_h-1"===t)return{value:e,unit:I.KilometersPerHour};throw new Error("Unexpected unit code.")}var G={setItem:function(e,t){localStorage.setItem(e,JSON.stringify(t))},getItem:function(e,t){var n=localStorage.getItem(e);return null===n?null:JSON.parse(n,t)}};function B(e,t){switch(t.type){case"updateForecast":return Object(p.a)(Object(p.a)({},e),t.payload)}}var W=n(159),_=n(139),J=n(2);function Z(e){var t=e.open,n=void 0!==t&&t,r=e.anchorEl,a=e.anchorOrigin,i=e.onClose,c=e.onRefreshClicked,o=e.onSettingsClicked;return Object(J.jsxs)(W.a,{open:n,anchorEl:r,anchorOrigin:a,onClose:i,children:[Object(J.jsx)(_.a,{onClick:c,children:"Refresh"}),Object(J.jsx)(_.a,{onClick:o,children:"Settings"})]})}var X=n(140),Y=Object(X.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column"},spacer:{flexGrow:1},main:{overflowY:"auto",flexGrow:1},hourlyForecastPage:{display:"flex",flexDirection:"column",gap:e.spacing(1)},bottomNavigation:{borderTop:"1px solid",borderColor:e.palette.divider,minHeight:"56px"}}})),z=n(141),V=n(142),$=n(143);function q(e){var t=e.value;switch(e.unit){case D.Celsius:return"".concat(t,"\u2103");case D.Fahrenheit:return"".concat(t,"\u2109");case D.Kelvin:return"".concat(t,"\u212a");default:return"".concat(t)}}function Q(e,t){var n=function(e){var t=e.value,n=e.unit;switch(n){case D.Celsius:return{value:t+273.15,unit:D.Kelvin};case D.Fahrenheit:return{value:5*(t-32)/9+273.15,unit:D.Kelvin};case D.Kelvin:return{value:t,unit:n}}}(e).value;switch(t){case D.Celsius:return{value:n-273.15,unit:t};case D.Fahrenheit:return{value:9*(n-273.15)/5+32,unit:t};case D.Kelvin:return{value:n,unit:t}}}var ee=Object(X.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",gap:e.spacing(1)}}}));function te(e){var t=e.temperature,n=e.time,r=e.icon,a=ee();return Object(J.jsxs)("div",{className:a.root,children:[Object(J.jsx)(h.a,{children:n.toLocaleTimeString()}),Object(J.jsx)("img",{src:r,alt:""}),Object(J.jsx)(h.a,{variant:"h6",children:q(t)})]})}var ne=Object(X.a)((function(e){var t=e.spacing(2);return{gridList:{display:"grid",gridAutoFlow:"column",justifyItems:"center",gap:t},gridListContainer:{display:"flex",overflowX:"auto",paddingLeft:0,paddingRight:0},spacer:{display:"inline-block",minWidth:t}}}));function re(e){var t=e.periods,n=ne();return Object(J.jsx)(z.a,{children:Object(J.jsxs)(V.a,{className:n.gridListContainer,children:[Object(J.jsx)("div",{className:n.spacer}),Object(J.jsx)("div",{className:n.gridList,children:t.map((function(e,n){var a=e.temperature,i=e.startTime,c=e.icon;return Object(J.jsxs)(r.Fragment,{children:[Object(J.jsx)(te,{temperature:a,time:i,icon:c}),n!==t.length-1&&Object(J.jsx)($.a,{orientation:"vertical"})]},i.toISOString())}))}),Object(J.jsx)("div",{className:n.spacer})]})})}var ae=n(144);function ie(e){var t=e.src,n=e.alt,a=e.skeletonProps,i=e.className,o=Object(r.useState)(!1),s=Object(c.a)(o,2),u=s[0],l=s[1];return Object(J.jsxs)(J.Fragment,{children:[!u&&Object(J.jsx)(ae.a,Object(p.a)({className:i,variant:"rect"},a)),Object(J.jsx)("img",{className:i,style:{display:u?void 0:"none"},src:t,alt:n,onLoad:function(){return l(!0)}})]})}function ce(e){var t=e.value;switch(e.unit){case I.KilometersPerHour:return"".concat(t," km/h");case I.MetersPerSecond:return"".concat(t," m/s");case I.MilesPerHour:return"".concat(t," mph");default:return"".concat(t)}}function oe(e,t){var n=function(e){var t=e.value,n=e.unit;switch(n){case I.KilometersPerHour:return{value:t/3.6,unit:I.MetersPerSecond};case I.MetersPerSecond:return{value:t,unit:n};case I.MilesPerHour:return{value:t/2.237,unit:I.MetersPerSecond}}}(e).value;switch(t){case I.KilometersPerHour:return{value:3.6*n,unit:t};case I.MetersPerSecond:return{value:n,unit:t};case I.MilesPerHour:return{value:2.237*n,unit:t}}}function se(e){var t=e.icon,n=e.shortForecast,r=e.temperature,a=e.windSpeed,i=e.relativeHumidity,c=e.updateTime,o=e.station;return Object(J.jsx)(z.a,{children:Object(J.jsxs)(V.a,{children:[Object(J.jsx)(h.a,{variant:"h5",children:n}),Object(J.jsxs)(m.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(J.jsx)(ie,{alt:"",src:t,skeletonProps:{height:86,width:86}}),Object(J.jsxs)(m.a,{display:"flex",flexDirection:"column",alignItems:"flex-end",children:[Object(J.jsx)(h.a,{variant:"h3",children:q(r)}),void 0!==i&&Object(J.jsx)(h.a,{children:"Humidity: ".concat(Math.round(i),"%")}),void 0!==a&&Object(J.jsx)(h.a,{children:"Wind: ".concat(ce(a))})]})]}),c&&Object(J.jsx)(m.a,{display:"flex",justifyContent:"flex-end",children:Object(J.jsx)(h.a,{variant:"caption",children:c.toLocaleString()})}),c&&Object(J.jsx)(m.a,{display:"flex",justifyContent:"flex-end",children:Object(J.jsx)(h.a,{variant:"caption",children:o})})]})})}function ue(e){var t=e.currentWeather,n=e.hourlyForecast,r=e.updateTime,a=e.station,i=e.className;return Object(J.jsxs)("div",{className:i,children:[Object(J.jsx)(se,{icon:t.icon,shortForecast:t.shortForecast,temperature:t.temperature,windSpeed:t.windSpeed,relativeHumidity:t.relativeHumidity,updateTime:r,station:a}),Object(J.jsx)(re,{periods:n})]})}var le=n(40),de={speedUnit:I.MilesPerHour,temperatureUnit:D.Fahrenheit},pe=Object(r.createContext)(de),fe=Object(X.a)((function(e){return{root:{display:"flex",flexDirection:"column",gap:e.spacing(2)},forecastTile:{display:"grid",gridTemplateAreas:'\n    "forecastTileTitle forecastTileTitle forecastTileTitle"\n    "forecastTileIcon forecastTileDescription forecastTileTemperature"\n    ',alignItems:"center",columnGap:e.spacing(1)},forecastTileTitle:{gridArea:"forecastTileTitle",justifySelf:"start"},forecastTileIcon:{gridArea:"forecastTileIcon"},forecastTileDescription:{gridArea:"forecastTileDescription"},forecastTileTemperature:{gridArea:"forecastTileTemperature",justifySelf:"end"}}}));function je(e){var t=e.forecast,n=fe();return Object(J.jsx)("div",{className:n.root,children:t.map((function(e){return Object(J.jsxs)("div",{className:n.forecastTile,children:[Object(J.jsx)(h.a,{className:n.forecastTileTitle,variant:"h6",children:e.name}),Object(J.jsx)(ie,{className:n.forecastTileIcon,src:e.icon,alt:"",skeletonProps:{height:86,width:86}}),Object(J.jsx)(h.a,{className:n.forecastTileDescription,children:e.shortForecast}),Object(J.jsx)(h.a,{variant:"h6",className:n.forecastTileTemperature,children:q(e.temperature)})]},e.startTime.toISOString())}))})}function ve(){var e;return null!==(e=G.getItem("cachedForecast",(function(e,t){var n=e.toLocaleUpperCase();return n.includes("TIME")||n.includes("DATE")?new Date(t):t})))&&void 0!==e?e:{location:null,city:null,state:null,forecast:null,hourlyForecast:null,stationId:null,observations:null}}function he(){return(he=Object(f.a)(l.a.mark((function e(t){var n,r,a,i,c,o,s,u,d,p,f,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getPointInfo(t.latitude,t.longitude);case 2:return n=e.sent,r=n.relativeLocation,a=r.city,i=r.state,c=n.gridId,o=n.gridX,s=n.gridY,e.next=11,L.getForecast({wfo:c,x:o,y:s});case 11:return u=e.sent,e.next=14,L.getHourlyForecast({wfo:c,x:o,y:s});case 14:return d=e.sent,e.next=17,L.getStations({wfo:c,x:o,y:s});case 17:return p=e.sent,f=p[0].id,e.next=21,L.getStationObservations({stationId:f,limit:1});case 21:return j=e.sent,e.abrupt("return",{location:t,city:a,state:i,forecast:u,hourlyForecast:d,stationId:f,observations:j});case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){var e,t,n,a,i,o,u=Y(),l=Object(s.f)(),f=Object(r.useContext)(pe),F=f.speedUnit,E=f.temperatureUnit,H=function(){var e=Object(r.useState)(window.navigator.onLine),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a(!1)}function t(){a(!0)}return window.addEventListener("offline",e),window.addEventListener("online",t),function(){window.removeEventListener("offline",e),window.removeEventListener("online",t)}}),[]),n}(),N=Object(r.useState)(!1),R=Object(c.a)(N,2),L=R[0],U=R[1],M=Object(r.useReducer)(B,void 0,ve),K=Object(c.a)(M,2),A=K[0],W=K[1],_=A.location,X=A.city,z=A.state,V=A.forecast,$=A.hourlyForecast,q=A.observations,ee=A.stationId,te=null!==(e=null===q||void 0===q?void 0:q[0])&&void 0!==e?e:null,ne=Object(r.useCallback)((function(e){U(!0),function(e){return he.apply(this,arguments)}(e).then((function(e){return W({type:"updateForecast",payload:e})})).finally((function(){return U(!1)}))}),[]);Object(r.useEffect)((function(){_&&H&&ne(_)}),[H,_,ne]),i="cachedForecast",o=A,Object(r.useEffect)((function(){G.setItem(i,o)}),[i,o]);var re=Object(r.useCallback)((function(e){return function(e){var t=e.value,n=Object(d.a)(e,["value"]);return Object(p.a)({value:Math.round(t)},n)}(Q(e,E))}),[E]),ae=Object(r.useCallback)((function(e){return Object(p.a)(Object(p.a)({},e),{},{periods:e.periods.map((function(e){var t=e.temperature,n=Object(d.a)(e,["temperature"]);return Object(p.a)({temperature:re(t)},n)}))})}),[re]),ie=Object(r.useMemo)((function(){return null!==V?ae(V):null}),[V,ae]),ce=Object(r.useMemo)((function(){return null!==$?ae($):null}),[$,ae]),se=new Date,de=new Date(se);de.setDate(de.getDate()+1),de.setHours(0,0,0,0);var fe,be=null===ce||void 0===ce?void 0:ce.periods.filter((function(e){var t=e.endTime,n=e.startTime;return new Date(t)>se&&new Date(n)<de})).map((function(e){var t=e.temperature,n=Object(d.a)(e,["temperature"]);return Object(p.a)({temperature:re(t)},n)})),me=Object(r.useState)(null),Oe=Object(c.a)(me,2),xe=Oe[0],ge=Oe[1],ye=Object(r.useState)("hourly"),we=Object(c.a)(ye,2),Se=we[0],Ce=we[1];return Object(J.jsx)("div",{className:u.root,children:Object(J.jsxs)(T.a,{value:Se,children:[Object(J.jsx)(j.a,{position:"sticky",children:Object(J.jsxs)(v.a,{children:[Object(J.jsx)(h.a,{variant:"h6",children:X||z?"".concat(null!==X&&void 0!==X?X:"Unknown",", ").concat(null!==z&&void 0!==z?z:"Unknown"):"Unknown"}),Object(J.jsx)(b.a,{color:"inherit",onClick:function(){P.getCurrentPosition().then((function(e){var t=e.coords;W({type:"updateForecast",payload:{location:{latitude:t.latitude,longitude:t.longitude}}})}))},children:Object(J.jsx)(y.a,{})}),Object(J.jsx)(m.a,{className:u.spacer}),Object(J.jsx)(b.a,{color:"inherit",edge:"end",onClick:function(e){return ge(e.currentTarget)},children:Object(J.jsx)(w.a,{})})]})}),Object(J.jsx)(Z,{anchorEl:xe,open:Boolean(xe),onClose:function(){return ge(null)},onRefreshClicked:function(){ge(null),_&&H&&ne(_)},onSettingsClicked:function(){ge(null),l.push(le.SETTINGS)}}),L&&Object(J.jsx)(O.a,{color:"secondary"}),Object(J.jsxs)("main",{className:u.main,children:[Object(J.jsx)(k.a,{value:"hourly",children:te&&(null===be||void 0===be?void 0:be.length)&&Object(J.jsx)(ue,{className:u.hourlyForecastPage,updateTime:new Date(te.timestamp),station:null!==ee&&void 0!==ee?ee:"",currentWeather:{icon:te.icon,shortForecast:te.description,temperature:re({value:null!==(t=null===(n=te.temperature)||void 0===n?void 0:n.value)&&void 0!==t?t:0,unit:D.Celsius}),windSpeed:void 0!==(null===te||void 0===te?void 0:te.windSpeed)?(fe={value:te.windSpeed.value,unit:I.KilometersPerHour},function(e){var t=e.value,n=Object(d.a)(e,["value"]);return Object(p.a)({value:Math.round(t)},n)}(oe(fe,F))):void 0,relativeHumidity:te.relativeHumidity},hourlyForecast:be})}),Object(J.jsx)(k.a,{value:"daily",children:Object(J.jsx)(je,{forecast:null!==(a=null===ie||void 0===ie?void 0:ie.periods)&&void 0!==a?a:[]})})]}),Object(J.jsxs)(x.a,{value:Se,onChange:function(e,t){return Ce(t)},showLabels:!0,className:u.bottomNavigation,children:[Object(J.jsx)(g.a,{icon:Object(J.jsx)(S.a,{}),label:"Hourly",value:"hourly"}),Object(J.jsx)(g.a,{icon:Object(J.jsx)(C.a,{}),label:"Daily",value:"daily"})]})]})})}var me=n(138),Oe=n(157),xe=n(116),ge=n(158),ye=n(156);function we(e){var t=e.open,n=void 0!==t&&t,r=e.anchorEl,a=e.anchorOrigin,i=e.children,c=e.onClose;return Object(J.jsx)(W.a,{open:n,anchorEl:r,anchorOrigin:a,onClose:c,children:i})}var Se=Object(r.createContext)((function(){}));function Ce(e){switch(e){case I.KilometersPerHour:return"Kilometers per hour";case I.MetersPerSecond:return"Meters per second";case I.MilesPerHour:return"Miles per hour"}}function Te(e){switch(e){case D.Celsius:return"Celsius";case D.Fahrenheit:return"Fahrenheit";case D.Kelvin:return"Kelvin"}}var ke=Object(X.a)((function(e){return{listSubHeader:{color:e.palette.primary.main,fontSize:e.typography.body1.fontSize,fontWeight:e.typography.body1.fontWeight,textAlign:"start"}}})),Fe=Object.keys(I).map((function(e){return I[e]})),Ie=Object.keys(D).map((function(e){return D[e]}));function De(){var e=ke(),t=Object(s.f)(),n=Object(r.useContext)(Se),a=Object(r.useState)(null),i=Object(c.a)(a,2),o=i[0],u=i[1],l=Object(r.useState)(null),d=Object(c.a)(l,2),p=d[0],f=d[1],m=Object(r.useContext)(pe),O=m.speedUnit,x=m.temperatureUnit;return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(j.a,{position:"sticky",children:Object(J.jsxs)(v.a,{children:[Object(J.jsx)(b.a,{edge:"start",color:"inherit",onClick:function(){return t.goBack()},children:Object(J.jsx)(ye.a,{})}),Object(J.jsx)(h.a,{variant:"h6",children:"Settings"})]})}),Object(J.jsx)(we,{anchorEl:o,open:Boolean(o),onClose:function(){return u(null)},children:Fe.map((function(e){return Object(J.jsx)(_.a,{onClick:function(){n({speedUnit:e}),u(null)},children:Ce(e)},e)}))}),Object(J.jsx)(we,{anchorEl:p,open:Boolean(p),onClose:function(){return f(null)},children:Ie.map((function(e){return Object(J.jsx)(_.a,{onClick:function(){n({temperatureUnit:e}),f(null)},children:Te(e)},e)}))}),Object(J.jsxs)(me.a,{children:[Object(J.jsx)(Oe.a,{inset:!0,className:e.listSubHeader,children:"Units"}),Object(J.jsx)(xe.a,{button:!0,onClick:function(e){var t,n;return u(null!==(t=null===(n=e.currentTarget.firstElementChild)||void 0===n?void 0:n.firstElementChild)&&void 0!==t?t:null)},children:Object(J.jsx)(ge.a,{inset:!0,primary:"Speed unit",secondary:Ce(O)})}),Object(J.jsx)(xe.a,{button:!0,onClick:function(e){var t,n;return f(null!==(t=null===(n=e.currentTarget.firstElementChild)||void 0===n?void 0:n.firstElementChild)&&void 0!==t?t:null)},children:Object(J.jsx)(ge.a,{inset:!0,primary:"Temperature unit",secondary:Te(x)})})]})]})}function Pe(e,t){var n=t.type,r=t.update;switch(n){case"update":return Object(p.a)(Object(p.a)({},e),r)}}function Ee(e){return"userPreferences::".concat(e)}var He=new(function(){function e(){Object(E.a)(this,e)}return Object(H.a)(e,[{key:"save",value:function(e,t){G.setItem(Ee(e),t)}},{key:"load",value:function(e){var t;return null!==(t=G.getItem(Ee(e)))&&void 0!==t?t:null}},{key:"loadOrDefault",value:function(e,t){var n;return null!==(n=G.getItem(Ee(e)))&&void 0!==n?n:t}},{key:"loadAllOrDefault",value:function(){return{speedUnit:this.loadOrDefault("speedUnit",de.speedUnit),temperatureUnit:this.loadOrDefault("temperatureUnit",de.temperatureUnit)}}}]),e}());function Ne(){var e=Object(r.useReducer)(Pe,He.loadAllOrDefault()),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(J.jsx)(pe.Provider,{value:n,children:Object(J.jsx)(Se.Provider,{value:function(e){Object.keys(e).forEach((function(t){He.save(t,e[t])})),a({type:"update",update:e})},children:Object(J.jsx)("div",{className:"App",children:Object(J.jsx)(o.a,{children:Object(J.jsxs)(s.c,{children:[Object(J.jsx)(s.a,{path:le.DASHBOARD,exact:!0,children:Object(J.jsx)(be,{})}),Object(J.jsx)(s.a,{path:le.SETTINGS,children:Object(J.jsx)(De,{})})]})})})})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,162)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};i.a.render(Object(J.jsx)(r.StrictMode,{children:Object(J.jsx)(Ne,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Re()},40:function(e){e.exports=JSON.parse('{"DASHBOARD":"/","SETTINGS":"/settings"}')},86:function(e,t,n){},87:function(e,t,n){}},[[113,1,2]]]);
//# sourceMappingURL=main.935991b5.chunk.js.map